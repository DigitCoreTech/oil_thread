# Метод минимальной кривизны (Minimum Curvature Method)

## 0. Запуск
Справка по функционалу:
```shell
python main.py -h
```
Запуск построения траектории:
```shell
python main.py --input ./source/Datos_Wellbore-47.csv
```
Результат будет сохранен в файл `output.csv`
## 1. Назначение метода

**Метод минимальной кривизны** — стандартный инженерный метод расчёта пространственной траектории скважины по данным инклинометрии. Метод применяется в направленном и горизонтальном бурении для определения координат ствола скважины между соседними точками замера.

Метод предполагает, что между двумя точками замера траектория скважины представляет собой **дугу окружности с постоянной и минимально возможной кривизной**, согласованной с измеренными направлениями.

Метод принят в качестве отраслевого стандарта (API, SPE) и используется в большинстве программных комплексов для проектирования и сопровождения бурения.

---

## 2. Исходные данные

Для двух соседних точек замера (Survey Stations) известны:

- **MD₁, MD₂** — измеренная глубина (Measured Depth)
- **I₁, I₂** — инклинация (Inclination)
- **A₁, A₂** — азимут (Azimuth)

Обозначим:

$$
\Delta MD = MD_2 - MD_1
$$

---

## 3. Геометрическая идея метода

Метод минимальной кривизны предполагает, что между двумя точками замера
траектория скважины описывается **дугой окружности с постоянной кривизной**.
Направления ствола в начале и конце интервала известны по данным инклинометрии,
а сама дуга является геометрически наиболее гладким соединением этих направлений.

**Рисунок 1 — Принцип метода минимальной кривизны (упрощённая схема)**

![Принцип метода минимальной кривизны](images/photo1.png)

На схеме показаны:
- две соседние точки замера (MD₁ и MD₂);
- направления ствола в этих точках;
- дуга окружности, аппроксимирующая участок траектории.

---

## 4. Угол искривления (Dogleg Angle)

Угол искривления характеризует изменение направления ствола скважины между
двумя точками замера и является ключевым параметром при расчёте траектории.

Угол искривления между двумя точками рассчитывается по формуле:

$$
\cos(\theta) =
\cos I_1 \cos I_2 +
\sin I_1 \sin I_2 \cos(A_2 - A_1)
$$
$$
\theta = \arccos(\cos \theta)
$$

где: θ — угол искривления (в радианах)

---

## 5. Интенсивность искривления (Dogleg Severity)

DLS = $\frac{\theta}{\Delta MD}$

Обычно выражается в:
- градусах на 30 м
- градусах на 100 футов

---

## 6. Коэффициент кривизны (Ratio Factor)

Коэффициент кривизны — ключевой элемент метода минимальной кривизны:

RF =
$\frac{2}{\theta} \tan\left(\frac{\theta}{2}\right)$
, если θ отлична 0.

Если θ = 0, то RF = 1.

Параметр RF учитывает дуговую форму траектории между точками замера.

---

## 7. Приращения координат

Приращения координат вычисляются следующим образом:

### Восточное направление (X)
$$
\Delta X =
\frac{\Delta MD}{2}
\left(
\sin I_1 \cos A_1 + \sin I_2 \cos A_2
\right) RF
$$
### Северное направление (Y)
$$
\Delta Y =
\frac{\Delta MD}{2}
\left(
\sin I_1 \sin A_1 + \sin I_2 \sin A_2
\right) RF
$$
### Вертикальное направление (Z)
$$
\Delta Z =
\frac{\Delta MD}{2}
\left(
\cos I_1 + \cos I_2
\right) RF
$$
Координаты следующей точки:
$$
X_2 = X_1 + \Delta X
$$
$$
Y_2 = Y_1 + \Delta X
$$
$$
Z_2 = Z_1 + \Delta Z
$$

---

## 8. Преимущества метода

- Высокая точность аппроксимации реальной траектории
- Отсутствие систематических ошибок
- Корректная работа при больших искривлениях
- Принят в качестве промышленного стандарта

---

## 9. Ограничения метода

- Предполагается постоянная кривизна на интервале
- Чувствителен к ошибкам измерений инклинации и азимута
- Не моделирует локальные микронеровности ствола

---